@Kopernicus:FOR[EdgeOfEternity]
{
	!Body[Kerbin] {}
	Body
	{
		cacheFile = EdgeOfEternity/Bodies/Cache/Haven.bin
		name = Kerbin
		cbNameLater = Haven
		Template
		{
			name = Kerbin
			removePQSMods = PQSCity[Monolith00], PQSCity[Monolith01], PQSCity[KSC], MapDecal, PQSMod_MapDecalTangent, PQSMod_FlattenArea, PQSLandControl, PQSMod_VertexSimplexHeightAbsolute, PQSMod_VertexHeightNoiseVertHeightCurve2, PQSMod_VertexRidgedAltitudeCurve, PQSMod_VertexHeightMap
		}
		Properties //Composition: 78% silicate, 22% iron
		{
			albedo = 0.35
			radius = 608100
			geeASL = 0.892
			description = The final resting place of the ICS Mercury, Haven is only marginally habitable. So far from the heat of Terminus, the temperatures are only just high enough for it to not be completely frozen. Even with its 1.59 atmospheres of pressure, the oxygen content is more comparable to that on a low mountain back on Kerbin, and the planet has no native life. \\nn \\nn Despite this, the kerbals have survived, and some of the seeds scattered by the crash have even taken root, giving Haven some green in places.
			displayName = Haven^N
			initialRotation = 305
			rotationPeriod = 25200
			solarRotationPeriod = true
			isHomeworld = true
			timewarpAltitudeLimits = 0 0 0 0 0 0 0 0
			ScienceValues
			{
				landedDataValue = 0.3
				splashedDataValue = 0.4
				flyingLowDataValue = 0.4
				flyingHighDataValue = 0.5
				inSpaceLowDataValue = 0.6
				inSpaceHighDataValue = 0.8
				recoveryValue = 1
				flyingAltitudeThreshold = 17000
				spaceAltitudeThreshold = 430000
			}
			biomeMap = EdgeOfEternity/Bodies/PluginData/Haven_Biome.png
			Biomes
			{
				Biome
				{
					name = RockyPlains
					displayName = Rocky Plains
					value = 1
					color = RGBA(128,128,128,255)
				}
				Biome
				{
					name = SnowyPlains
					displayName = Snowy Plains
					value = 1
					color = RGBA(255,255,255,255)
				}
				Biome
				{
					name = IceCaps
					displayName = Ice Caps
					value = 1
					color = RGBA(225,242,254,255)
				}
				Biome
				{
					name = Grasslands
					value = 1
					color = RGBA(136,155,135,255)
				}
				Biome
				{
					name = Highlands
					value = 1
					color = RGBA(191,191,191,255)
				}
				Biome
				{
					name = Mountains
					value = 1
					color = RGBA(230,230,230,255)
				}
				Biome
				{
					name = Oceans
					value = 1
					color = RGBA(46,48,61,255)
				}
			}
		}
		Orbit
		{
			referenceBody = Sun
			color = 0.32,0.36,0.46
			iconTexture = EdgeOfEternity/Bodies/Other/Planet_Icon.png
			semiMajorAxis = 8660353521.6
			eccentricity = 0.001
			inclination = 0.007
			longitudeOfAscendingNode = 243
			argumentOfPeriapsis = 117
			epoch = 11106304
			meanAnomalyAtEpoch = 0.5		//mean longitude: 28.6
		}
		ScaledVersion
		{
			type = Atmospheric
			fadeStart = 60000
			fadeEnd = 70000
			OnDemand
			{
				texture = EdgeOfEternity/Bodies/PluginData/Haven_ScaledColor.dds
				normals = EdgeOfEternity/Bodies/PluginData/Haven_Normal.dds
			}
			Material
			{
				shininess = 0.8
				specColor = 0.3,0.3,0.3,1.0
				rimPower = 1.1
				rimBlend = 0.6
				Gradient
                {
                    0.0 = 0.72, 0.75, 0.85, 1.0
                    0.05 = 0.51, 0.43, 0.42, 1.0
                    0.075 = 0.21, 0.21, 0.17,1.0
                    0.1 = 0.0,0.0,0.0,1.0
                    1.0 = 0.0,0.0,0.0,1.0
                }
			}
		}
		Atmosphere		//88.7% N2, 9.8% O2, 1.5% Ar
		{						
			enabled =	True			
			oxygen =	True			
			altitude =	78000			
			adiabaticIndex =	1.40			
			atmosphereMolarMass =	0.02858			
			temperatureSeaLevel =	272			
			staticPressureASL =	161.10675			
			temperatureCurve				
			{				
				key =	0	265	0.00000E+00	-3.96629E-03
				key =	4034	249	-3.96629E-03	-5.09110E-03
				key =	7766	230	-5.09110E-03	-5.27395E-03
				key =	11179	212	-5.27395E-03	-2.83019E-03
				key =	14359	203	-2.83019E-03	-1.30591E-03
				key =	17422	199	-1.30591E-03	3.28623E-04
				key =	20465	200	3.28623E-04	9.70246E-04
				key =	23557	203	9.70246E-04	1.26263E-03
				key =	26725	207	1.26263E-03	1.22888E-03
				key =	29980	211	1.22888E-03	1.78625E-03
				key =	33339	217	1.78625E-03	2.29885E-03
				key =	36819	225	2.29885E-03	2.76243E-03
				key =	40439	235	2.76243E-03	1.34084E-03
				key =	44168	240	1.34084E-03	-1.34300E-03
				key =	47891	235	-1.34300E-03	-2.78319E-03
				key =	51484	225	-2.78319E-03	-2.91886E-03
				key =	54910	215	-2.91886E-03	-2.74809E-03
				key =	58185	206	-2.74809E-03	-2.86624E-03
				key =	61325	197	-2.86624E-03	-2.31405E-03
				key =	64350	190	-2.31405E-03	-2.04778E-03
				key =	67280	184	-2.04778E-03	-2.10822E-03
				key =	70126	178	-2.10822E-03	-1.80180E-03
				key =	72901	173	-1.80180E-03	-1.47059E-03
				key =	75621	169	-1.47059E-03	-8.40689E-04
				key =	78000	167	-8.40689E-04	0.00000E+00			
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-6.84184E-05
				key =	4034	0.724	-6.84184E-05	-9.48553E-05
				key =	7766	0.370	-9.48553E-05	-1.01084E-04
				key =	11179	0.025	-1.01084E-04	-7.89308E-05
				key =	14359	-0.226	-7.89308E-05	-2.35064E-05
				key =	17422	-0.298	-2.35064E-05	2.30036E-05
				key =	20465	-0.228	2.30036E-05	4.52781E-05
				key =	23557	-0.088	4.52781E-05	5.42929E-05
				key =	26725	0.084	5.42929E-05	5.03840E-05
				key =	29980	0.248	5.03840E-05	3.51295E-05
				key =	33339	0.366	3.51295E-05	9.19540E-06
				key =	36819	0.398	9.19540E-06	-1.65746E-05
				key =	40439	0.338	-1.65746E-05	-3.21802E-05
				key =	44168	0.218	-3.21802E-05	-3.94843E-05
				key =	47891	0.071	-3.94843E-05	-3.92430E-05
				key =	51484	-0.070	-3.92430E-05	-2.91886E-05
				key =	54910	-0.170	-2.91886E-05	-8.85496E-06
				key =	58185	-0.199	-8.85496E-06	8.91720E-06
				key =	61325	-0.171	8.91720E-06	1.98347E-05
				key =	64350	-0.111	1.98347E-05	2.66212E-05
				key =	67280	-0.033	2.66212E-05	2.88124E-05
				key =	70126	0.049	2.88124E-05	2.70270E-05
				key =	72901	0.124	2.70270E-05	2.02206E-05
				key =	75621	0.179	2.02206E-05	8.82724E-06
				key =	78000	0.200	8.82724E-06	0.00000E+00			
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	11.02	0	0
				key =	38	0	-0.5588	-0.5588
				key =	90	-40.98	-0.9076	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	17	0	0
				key =	38	14.67	-0.1182	-0.1182
				key =	90	6	-0.192	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	0	0	0
				key =	9	0	0	0
				key =	99	0	0.0001	0.0001
				key =	189	0	0	0
				key =	279	0	-0.0001	-0.0001
				key =	360	0	0	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	0.05	0	-0.1
				key =	1	-0.05	-0.1	0
			}				
			pressureCurve				
			{				
				key =	0	1.61107E+02	0.00000E+00	-2.22284E-02
				key =	4034	9.05970E+01	-1.33997E-02	-1.33997E-02
				key =	7766	5.09464E+01	-8.24188E-03	-8.24188E-03
				key =	11179	2.86493E+01	-5.07786E-03	-5.07786E-03
				key =	14359	1.61107E+01	-3.01236E-03	-3.01236E-03
				key =	17422	9.05970E+00	-1.73373E-03	-1.73373E-03
				key =	20465	5.09464E+00	-9.67420E-04	-9.67420E-04
				key =	23557	2.86493E+00	-5.32340E-04	-5.32340E-04
				key =	26725	1.61107E+00	-2.92307E-04	-2.92307E-04
				key =	29980	9.05970E-01	-1.59856E-04	-1.59856E-04
				key =	33339	5.09464E-01	-8.70557E-05	-8.70557E-05
				key =	36819	2.86493E-01	-4.72007E-05	-4.72007E-05
				key =	40439	1.61107E-01	-2.55264E-05	-2.55264E-05
				key =	44168	9.05970E-02	-1.41076E-05	-1.41076E-05
				key =	47891	5.09464E-02	-8.12130E-06	-8.12130E-06
				key =	51484	2.86493E-02	-4.80536E-06	-4.80536E-06
				key =	54910	1.61107E-02	-2.83326E-06	-2.83326E-06
				key =	58185	9.05970E-03	-1.66723E-06	-1.66723E-06
				key =	61325	5.09464E-03	-9.77188E-07	-9.77188E-07
				key =	64350	2.86493E-03	-5.69238E-07	-5.69238E-07
				key =	67280	1.61107E-03	-3.30355E-07	-3.30355E-07
				key =	70126	9.05970E-04	-1.91163E-07	-1.91163E-07
				key =	72901	5.09464E-04	-1.10145E-07	-1.10145E-07
				key =	75621	2.86493E-04	-6.31009E-08	-6.31009E-08
				key =	78000	0.00000E+00	0.00000E+00	0.00000E+00
			}					
			AtmosphereFromGround
			{
				transformScale = 1.035,1.035,1.035
				outerRadiusMult = 1.025
				innerRadiusMult = 0.975
				waveLength = 0.57,0.54,0.5,0.5
			}					
		}						
		PQS
		{
			mapMaxHeight = 11000
			fadeStart = 60000
			fadeEnd = 70000
			deactivateAltitude = 80000
			materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 10
				factorBlendWidth = 0.05
				factorRotation = 180
				saturation = 0.5
				contrast = 1.2
				tintColor = 1,1,1,0
				specularColor = 0.0367646813,0.0367646813,0.0367646813,0.200000003
				albedoBrightness = 1
				steepPower = 3
				steepTexStart = 500
				steepTexEnd = 1000000
				steepTex = BUILTIN/dresSteepDiffuse
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/DresSteepNRM
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 500
				steepTiling = 125
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 38000
				midTex = BUILTIN/dresMid
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 40000
				midBumpMap = BUILTIN/dresMidNRM
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 40000
				highTex = BUILTIN/dresHigh
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 40000
				lowStart = 0
				lowEnd = 0.3
				highStart = 0.8
				highEnd = 1
				globalDensity = -5E-06
				fogColorRampScale = 1,1
				fogColorRampOffset = 0,0
				planetOpacity = 0
				oceanFogDistance = 1000
			}
			Mods
			{
				VertexHeightMap
				{
					map = EdgeOfEternity/Bodies/PluginData/Haven_LandHeight.dds
					deformity = 7300
					offset = -350
					scaleDeformityByRadius = false
					enabled = true
					order = 20
					name = land
				}
				VertexHeightMap
				{
					map = EdgeOfEternity/Bodies/PluginData/Haven_MountainHeight.dds
					deformity = 4700
					offset = 0
					scaleDeformityByRadius = false
					enabled = true
					order = 21
					name = mountains
				}
				VertexHeightMap
				{
					map = EdgeOfEternity/Bodies/PluginData/Haven_OceanHeight.dds
					deformity = 6000
					offset = -6000
					scaleDeformityByRadius = false
					enabled = true
					order = 22
					name = ocean
				}
				VertexColorMap
				{
					map = EdgeOfEternity/Bodies/PluginData/Haven_Color.dds
					order = 35
					enabled = true
				}
				VertexHeightNoiseVertHeightCurve2Regional
                {
					multiplierMap = EdgeOfEternity/Bodies/PluginData/Haven_NoiseMap.png
                    enabled = true
                    order = 30
					Mod
					{
						deformity = 220
						ridgedAddSeed = 121
						ridgedAddFrequency = 22
						ridgedAddLacunarity = 3
						ridgedAddOctaves = 4
						ridgedSubSeed = 131
						ridgedSubFrequency = 28
						ridgedSubLacunarity = 3
						ridgedSubOctaves = 6
						simplexCurve
						{
							key = 0 0 0 0.15
							key = 0.8 0 0.68 1.5
							key = 1 1 6.11 0
						}
						simplexHeightStart = -8000
						simplexHeightEnd = 1000
						simplexSeed = 242
						simplexOctaves = 3
						simplexPersistence = 0.3
						simplexFrequency = 18
					}
                }
				FlattenOceanRegional
				{
					multiplierMap = EdgeOfEternity/Bodies/PluginData/Haven_IceCaps.png
					name = Ice
					order = 99
					Mod
					{
						oceanRadius = 60
					}
				}
				VertexHeightNoiseVertHeightCurve2
                {
                    deformity = 15
                    ridgedAddSeed = 121
                    ridgedAddFrequency = 33
                    ridgedAddLacunarity = 3
                    ridgedAddOctaves = 4
                    ridgedSubSeed = 131
                    ridgedSubFrequency = 42
                    ridgedSubLacunarity = 3
                    ridgedSubOctaves = 6
                    simplexCurve
                    {
                        key = 0 0 0 0.15
                        key = 0.8 0 0.68 1.5
                        key = 1 1 6.11 0
                    }
                    simplexHeightStart = -8000
                    simplexHeightEnd = 1000
                    simplexSeed = 141
                    simplexOctaves = 3
                    simplexPersistence = 0.3
                    simplexFrequency = 24
                    enabled = true
                    order = 100
					name = noise
                }
				AerialPerspectiveMaterial
				{
					atmosphereDepth = 140000
					DEBUG_SetEveryFrame = True
					globalDensity = -1E-05
					heightFalloff = 6.75
					oceanDepth = 0
					order = 101
					enabled = True
					name = _Material_AerialPerspective
				}
				
				
				VertexHeightNoiseVertHeightCurve2Regional
                {
					multiplierMap = EdgeOfEternity/Bodies/PluginData/Haven_NoiseMap.png
                    enabled = true
                    order = 100
					name = scaleNoise
					Mod
					{
						deformity = 10
						ridgedAddSeed = 999
						ridgedAddFrequency = 20
						ridgedAddLacunarity = 3
						ridgedAddOctaves = 4
						ridgedSubSeed = 666
						ridgedSubFrequency = 25
						ridgedSubLacunarity = 3
						ridgedSubOctaves = 6
						simplexCurve
						{
							key = 0 0 0 0.15
							key = 0.8 0.7 0.68 1.5
							key = 1 1 6.11 0
						}
						simplexHeightStart = -4000
						simplexHeightEnd = 4000
						simplexSeed = 333
						simplexOctaves = 3
						simplexPersistence = 0.3
						simplexFrequency = 15
					}
                }
			}
		}
		Ocean
		{
			density = 1.03
			oceanColor = 0.137,0.141,0.184,1
			Material
			{
				color = 0.137,0.141,0.184,1
				colorFromSpace = 0.137,0.141,0.184,1
				oceanOpacity = 0.85
			}
			FallbackMaterial
			{
				color = 0.137,0.141,0.184,1
				colorFromSpace = 0.137,0.141,0.184,1
			}
			Fog
			{
				fogColorEnd = 0.0137,0.0141,0.0184,1
				fogColorStart = 0.137,0.141,0.184,1
			}
		}
		SpaceCenter
		{
			latitude = -0.36
			decalLatitude = -0.3
			longitude = 204.7
			decalLongitude = 204.78
			lodvisibleRangeMult = 6
			repositionRadiusOffset = 40.8
			heightMapDeformity = 70
			radius = 3600
			reorientFinalAngle = 65.3
			groundColor = 0.62,0.67,0.61,0.1									//0.39,0.434,0.386,0.1
			editorGroundColor = 0.62,0.67,0.61,0.1								//0.39,0.434,0.386,0.1
			groundTexture = BUILTIN/terrain_grass00_new
			editorGroundTexture = BUILTIN/terrain_grass00_new
		}
	}
}