@Kopernicus:FOR[EdgeOfEternity]
{
	Body
	{
		cacheFile = EdgeOfEternity/Bodies/Cache/Gelis.bin
		name = Gelis
		spaceCenterAltitudeOverride = 750
		Template
		{
			name = Laythe
			removeAllPQSMods = true
		}
		Properties //Composition: 12% water, 68% silicate, 20% iron. Tidal heat flux 4.9x Io, 28% per unit area
		{
			albedo = 0.52
			description = The outermost planet of Eterna is much larger in radius than any of its other planets, but appears to be a similar mass to the ones interior to it, suggesting a thick icy mantle. Gelis is also the only one to possess a moon, which prevents it from tidally locking, instead being resonant to its moon. \\nn\\nn At its distance it must be very cold, especially given its albedo. Careful observation of its atmosphere seem to be showing oxygen spectral lines, which has much of the scientific community advocating for a lander to investigate this closer.
			displayName = Gelis^N
			radius = 753600
			geeASL = 0.758
			rotates = true
			rotationPeriod = 9173.422	//2:3 with the orbit of Portent
			tidallyLocked = false
			initialRotation = 0
			isHomeworld = false
			timewarpAltitudeLimits = 0 0 0 0 0 0 0 0
			ScienceValues
			{
				landedDataValue = 6.5
				flyingLowDataValue = 6.0
				flyingHighDataValue = 5.1
				inSpaceLowDataValue = 4.3
				inSpaceHighDataValue = 2.5
				recoveryValue = 7.9
				spaceAltitudeThreshold = 85000
			}
		}
		Orbit
		{
			referenceBody = Eterna
			color = 0.76,0.75,0.74
			iconTexture = EdgeOfEternity/Bodies/Other/Planet_Icon.png
			semiMajorAxis = 1320645838.1	//9:5 with Arenace
			eccentricity = 0.001
			inclination = 5
			longitudeOfAscendingNode = 67
			argumentOfPeriapsis = 90
			meanAnomalyAtEpoch = 0
			epoch = 2718281828459
		}
		ScaledVersion
		{
			OnDemand
			{
				texture = EdgeOfEternity/Bodies/PluginData/Gelis_Color.dds
				normals = EdgeOfEternity/Bodies/PluginData/Gelis_Normal.dds
			}
			type = Atmospheric
			Material
			{
				shininess = 0
				specColor = 0,0,0,1
				rimPower = 1
				rimBlend = 0.6
				Gradient
                {
                    0.0 = 0.83, 0.82, 0.79, 1.0
                    0.05 = 0.51, 0.44, 0.42, 1.0
                    0.075 = 0.21, 0.20, 0.17,1.0
                    0.1 = 0.0,0.0,0.0,1.0
                    1.0 = 0.0,0.0,0.0,1.0
                }
			}
		}		
		Atmosphere		//84.9% N2, 12.4% O2, 2.2% Ar, 0.5% He
		{
			enabled = True				
			oxygen = True				
			altitude = 50000				
			adiabaticIndex = 1.40				
			atmosphereMolarMass = 0.02865				
			temperatureSeaLevel = 150				
			staticPressureASL =	63.83475		
			pressureCurve					
			{					
				key =	0		7.90335E+01	0.00000E+00	-1.69054E-02
				key =	2650	4.44438E+01	-9.81693E-03	-9.81693E-03
				key =	5219	2.49926E+01	-5.69643E-03	-5.69643E-03
				key =	7711	1.40544E+01	-3.30270E-03	-3.30270E-03
				key =	10133	7.90335E+00	-1.91133E-03	-1.91133E-03
				key =	12499	4.44438E+00	-1.09652E-03	-1.09652E-03
				key =	14829	2.49926E+00	-6.23813E-04	-6.23813E-04
				key =	17141	1.40544E+00	-3.52778E-04	-3.52778E-04
				key =	19446	7.90335E-01	-1.98834E-04	-1.98834E-04
				key =	21748	4.44438E-01	-1.11993E-04	-1.11993E-04
				key =	24045	2.49926E-01	-6.32101E-05	-6.32101E-05
				key =	26331	1.40544E-01	-3.58494E-05	-3.58494E-05
				key =	28590	7.90335E-02	-2.04886E-05	-2.04886E-05
				key =	30805	4.44438E-02	-1.18081E-05	-1.18081E-05
				key =	32961	2.49926E-02	-6.84812E-06	-6.84812E-06
				key =	35049	1.40544E-02	-3.98685E-06	-3.98685E-06
				key =	37066	7.90335E-03	-2.32439E-06	-2.32439E-06
				key =	39013	4.44438E-03	-1.35443E-06	-1.35443E-06
				key =	40898	2.49926E-03	-7.85986E-07	-7.85986E-07
				key =	42732	1.40544E-03	-4.52454E-07	-4.52454E-07
				key =	44535	7.90335E-04	-2.57643E-07	-2.57643E-07
				key =	46319	4.44438E-04	-1.46300E-07	-1.46300E-07
				key =	48087	2.49926E-04	-8.30122E-08	-8.30122E-08
				key =	50000	0.00000E+00	0.00000E+00	0.00000E+00
			}	
			temperatureCurve					
			{	
				key =	0		204	0	0
				// Cryolava heats atmosphere in rifts, raising temperature significantly
				key =	750		148	-1.88679E-03	-1.88679E-03
				key =	2650	143	-1.88679E-03	-1.16777E-03
				key =	5219	140	-1.16777E-03	-1.60514E-03
				key =	7711	136	-1.60514E-03	-1.65153E-03
				key =	10133	132	-1.65153E-03	-8.45309E-04
				key =	12499	130	-8.45309E-04	-4.29185E-04
				key =	14829	129	-4.29185E-04	-4.32526E-04
				key =	17141	128	-4.32526E-04	0.00000E+00
				key =	19446	128	0.00000E+00	0.00000E+00
				key =	21748	128	0.00000E+00	-4.35350E-04
				key =	24045	127	-4.35350E-04	-4.37445E-04
				key =	26331	126	-4.37445E-04	-8.85347E-04
				key =	28590	124	-8.85347E-04	-1.80587E-03
				key =	30805	120	-1.80587E-03	-1.85529E-03
				key =	32961	116	-1.85529E-03	-1.91571E-03
				key =	35049	112	-1.91571E-03	-1.98314E-03
				key =	37066	108	-1.98314E-03	-2.05444E-03
				key =	39013	104	-2.05444E-03	-1.59151E-03
				key =	40898	101	-1.59151E-03	-1.63577E-03
				key =	42732	98	-1.63577E-03	-5.54631E-04
				key =	44535	97	-5.54631E-04	-5.60538E-04
				key =	46319	96	-5.60538E-04	-5.65611E-04
				key =	48087	95	-5.65611E-04	-5.22739E-04
				key =	50000	94	-5.22739E-04	0.00000E+00		
			}					
			temperatureSunMultCurve					
			{				
				key =	0		0.284	0	0
				// Cryolava heating lower atmosphere reduces dependence on solar irradiance
				key =	750		1.000	0.00000E+00	-1.18113E-04
				key =	2650	0.687	-1.18113E-04	-1.10938E-04
				key =	5219	0.402	-1.10938E-04	-9.91172E-05
				key =	7711	0.155	-9.91172E-05	-8.21635E-05
				key =	10133	-0.044	-8.21635E-05	-6.21302E-05
				key =	12499	-0.191	-6.21302E-05	-3.73391E-05
				key =	14829	-0.278	-3.73391E-05	-9.08304E-06
				key =	17141	-0.299	-9.08304E-06	7.80911E-06
				key =	19446	-0.281	7.80911E-06	1.82450E-05
				key =	21748	-0.239	1.82450E-05	2.61210E-05
				key =	24045	-0.179	2.61210E-05	3.32458E-05
				key =	26331	-0.103	3.32458E-05	3.76273E-05
				key =	28590	-0.018	3.76273E-05	4.15350E-05
				key =	30805	0.074	4.15350E-05	4.31354E-05
				key =	32961	0.167	4.31354E-05	4.35824E-05
				key =	35049	0.258	4.35824E-05	4.21418E-05
				key =	37066	0.343	4.21418E-05	4.00616E-05
				key =	39013	0.421	4.00616E-05	3.66048E-05
				key =	40898	0.490	3.66048E-05	3.21701E-05
				key =	42732	0.549	3.21701E-05	2.66223E-05
				key =	44535	0.597	2.66223E-05	2.07399E-05
				key =	46319	0.634	2.07399E-05	1.30090E-05
				key =	48087	0.657	1.30090E-05	4.70465E-06
				key =	50000	0.666	4.70465E-06	0.00000E+00			
			}					
			temperatureLatitudeBiasCurve					
			{					
				key =	0	4.24	0	0
				key =	38	0	-0.2149	-0.2149
				key =	90	-15.76	-0.3491	0
			}					
			temperatureLatitudeSunMultCurve					
			{					
				key =	0	5	0	0
				key =	38	4.36	-0.0322	-0.0322
				key =	90	2	-0.0524	0
			}					
			temperatureAxialSunBiasCurve					
			{					
				key =	0	-0.27	0	-0.0035
				key =	36	-0.34	0	0
				key =	126	0	0.0059	0.0059
				key =	216	0.34	0	0
				key =	306	0	-0.0059	-0.0059
				key =	360	-0.27	-0.0035	0
			}					
			temperatureAxialSunMultCurve					
			{					
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}					
			temperatureEccentricityBiasCurve					
			{					
				key =	0	0	0	0
				key =	1	0	0	0
			}				
			AtmosphereFromGround
			{
				transformScale = 1.035,1.035,1.035
				outerRadiusMult = 1.025
				innerRadiusMult = 0.975
				waveLength = 0.51,0.48,0.46,0.5
			}				
		}	
		Rings
		{
			Ring
			{
				innerRadius = 1240
				outerRadius = 3750
				thickness = 1
				texture = EdgeOfEternity/Bodies/PluginData/Gelis_Rings.png
				color = 1.08,0.99,0.93,1
				unlit = false
				useNewShader = true
				
				albedoStrength = 1.0
				scatteringStrength = 0.1
				anisotropy = 0.55
				backlitTexture = EdgeOfEternity/Bodies/PluginData/Gelis_Rings_Backlit.png
				
				penumbraMultiplier = 10
				steps = 5000
			}
		}
		PQS
		{

			materialType = AtmosphericTriplanarZoomRotation
			PhysicsMaterial
			{
				bounceCombine = Multiply
				frictionCombine = Maximum
				bounciness = 0
				staticFriction = 0.9
				dynamicFriction = 0.8
			}
			Material
			{
				factor = 14.26
				factorBlendWidth = 0.05
				factorRotation = 75
				saturation = 1.15
				contrast = 1
				tintColor = 1,1,1,0
				specularColor = 0.191176474,0.191176474,0.191176474,1
				albedoBrightness = 1.64
				steepPower = 1.5
				steepTexStart = 30000
				steepTexEnd = 60000
				steepTex = BUILTIN/MunCliff [Diffuse]
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/MunCliff [Normal]
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 500
				steepTiling = 350
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 1
				midTex = BUILTIN/Minmus [Diffuse]
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 150000
				midBumpMap = BUILTIN/Minmus [Normal]
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 150000
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 1.5
				lowStart = -1
				lowEnd = -1
				highStart = 1
				highEnd = 1
				globalDensity = 1
				fogColorRampScale = 1,1
				fogColorRampOffset = 0,0
				planetOpacity = 0
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 3
				tintColor = 1,1,1,0
				texTiling = 1024
				texPower = 0.75
				multiPower = 0.75
				groundTexStart = 0
				groundTexEnd = 5000
				multiFactor = 0.5
				mainTex = BUILTIN/terrain_sand00
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 0
			}
			Mods
			{
				AltitudeAlpha
				{
					atmosphereDepth = 40000
					invert = False
					order = 999999999
					enabled = True
					name = _Material_ModProjection
				}
				
				VertexMitchellNetravaliHeightMap
				{
					map = EdgeOfEternity/Bodies/PluginData/Gelis_Height.dds
					deformity = 9600
					offset = -188
					scaleDeformityByRadius = false
					
					B = 0.15
					C = 0.85
					
					enabled = true
					order = 20
				}
				VertexColorMap
				{
					map = EdgeOfEternity/Bodies/PluginData/Gelis_Color.dds
					order = 20
					enabled = true
				}
				
				
				VertexHeightNoiseVertHeightCurve2
                {
                    deformity = 10
                    ridgedAddSeed = 999
                    ridgedAddFrequency = 20
                    ridgedAddLacunarity = 3
                    ridgedAddOctaves = 4
                    ridgedSubSeed = 666
                    ridgedSubFrequency = 25
                    ridgedSubLacunarity = 3
                    ridgedSubOctaves = 6
                    simplexCurve
                    {
                        key = 0 0 0 0.15
                        key = 0.8 0.7 0.68 1.5
                        key = 1 1 6.11 0
                    }
                    simplexHeightStart = -4000
                    simplexHeightEnd = 4000
                    simplexSeed = 333
                    simplexOctaves = 3
                    simplexPersistence = 0.3
                    simplexFrequency = 15
                    enabled = true
                    order = 100
					name = scaleNoise
                }
			}
		}
	}
}