@Kopernicus:AFTER[Kopernicus]
{
	Body
	{
		cacheFile = EdgeOfEternity/Bodies/Circumbinary/1-Apep/4-Heima/Heima.bin
		name = Heima
		Template
		{
			name = Dres
			removeAllPQSMods = true
		}
		Properties //Composition: 26% water, 64% silicate, 10% iron
		{
			albedo = 0.43
			description = Heima's case is an odd one. When seen through a large telescope, it seems to have seas, but at such an immense distance, a high enough temperature for liquid water is all but impossible. This has led to speculation about what they and the atmosphere are made of. We can only hope it has snacks, since it will be a long journey if we ever send kerbals there.
			displayName = Heima^N
			radius = 407000
			geeASL = 0.301
			rotates = true
			rotationPeriod = 1574144
			tidallyLocked = false
			initialRotation = 0
			isHomeworld = false
			timewarpAltitudeLimits 1000 1000 1000 1500 2000 3000 4000 6000
			ScienceValues
			{
				landedDataValue = 9.8
				splashedDataValue = 10.3
				flyingLowDataValue = 8.5
				flyingHighDataValue = 6.5
				inSpaceLowDataValue = 6.5
				inSpaceHighDataValue = 4.5
				recoveryValue = 6.5
				flyingAltitudeThreshold = 40000
				spaceAltitudeThreshold = 300000
			}
			maxZoom = 30000
		}
		Orbit
		{
			referenceBody = Apep
			color = 0.21,0.45,0.61,1
			semiMajorAxis = 657849027
			eccentricity = 0.13
			inclination = 4.6
			longitudeOfAscendingNode = 23
			argumentOfPeriapsis = 264
			meanAnomalyAtEpoch = 0
			epoch = 0
		}
		ScaledVersion
		{
			type = Atmospheric
			Material
			{
				texture = EdgeOfEternity/Bodies/Circumbinary/1-Apep/4-Heima/Heima_ScaledColor.png
				normals = EdgeOfEternity/Bodies/Circumbinary/1-Apep/4-Heima/Heima_Normal.png
				shininess = 0.3
				specColor = 0.1,0.1,0.1,1.0
				rimPower = 0.6
				rimBlend = 1.2
				Gradient
                {
                    0.0 = 0.06, 0.1, 0.13, 1.0
                    0.05 = 0.07, 0.05, 0.03, 1.0
                    0.075 =0.03, 0.03, 0.02,1.0
                    0.1 = 0.0,0.0,0.0,1.0
                    1.0 = 0.0,0.0,0.0,1.0
                }
			}
		}				
		Atmosphere					
		{					
			enabled = True				
			oxygen = False				
			altitude = 153000				
			adiabaticIndex = 1.67				
			atmosphereMolarMass = 0.0045 //97.2% He, 2.6% Ne, 0.2% Ar				
			temperatureSeaLevel = 26				
			staticPressureASL =	246.21975					
			pressureCurve					
			{					
				key =	0	2.4621975E+02	0.00000E+00	-1.63774E-02
				key =	11000	1.17706E+02	-7.96606E-03	-7.96606E-03
				key =	21000	5.95162E+01	-4.09187E-03	-4.09187E-03
				key =	32000	2.74745E+01	-1.99549E-03	-1.99549E-03
				key =	42000	1.30556E+01	-9.76804E-04	-9.76804E-04
				key =	52000	6.19928E+00	-4.59913E-04	-4.59913E-04
				key =	63000	2.76279E+00	-1.99156E-04	-1.99156E-04
				key =	73000	1.36550E+00	-9.41681E-05	-9.41681E-05
				key =	84000	6.51443E-01	-4.26473E-05	-4.26473E-05
				key =	94000	3.44930E-01	-2.13258E-05	-2.13258E-05
				key =	104000	1.89025E-01	-1.10805E-05	-1.10805E-05
				key =	115000	1.00952E-01	-5.60507E-06	-5.60507E-06
				key =	125000	5.86934E-02	-3.11639E-06	-3.11639E-06
				key =	135000	3.46293E-02	-1.85242E-06	-1.85242E-06
				key =	153000	0.00000E+00	0.00000E+00	0.00000E+00
			}									
			temperatureCurve					
			{					
				key =	0	26	0.00000E+00	-4.13223E-05
				key =	24200	25	-4.13223E-05	-1.56250E-04
				key =	37000	23	-1.56250E-04	0.00000E+00
				key =	57700	23	0.00000E+00	8.58369E-05
				key =	81000	25	8.58369E-05	1.28205E-04
				key =	120000	30	1.28205E-04	1.11111E-04
				key =	129000	31	1.11111E-04	-1.37255E-04
				key =	180000	24	-1.37255E-04	-4.87805E-05
				key =	221000	22	-4.87805E-05	-1.66667E-04
				key =	245000	18	-1.66667E-04	-8.00000E-04
				key =	255000	10	-8.00000E-04	0.00000E+00
			}					
			temperatureSunMultCurve					
			{					
				key =	0	1	0.00000E+00	-3.78378E-05
				key =	37000	-0.4	-3.78378E-05	1.28000E-05
				key =	99500	0.4	1.28000E-05	-9.93789E-06
				key =	180000	-0.4	-9.93789E-06	1.46341E-05
				key =	221000	0.2	1.46341E-05	0.00000E+00
			}
			temperatureLatitudeBiasCurve					
			{					
				key =	0	0.64	0	0
				key =	38	0	-0.0322	-0.0322
				key =	90	-2.36	-0.0524	0
			}					
			temperatureLatitudeSunMultCurve					
			{					
				key =	0	1	0	0
				key =	38	0.79	-0.0107	-0.0107
				key =	90	0	-0.0175	0
			}					
			temperatureAxialSunBiasCurve					
			{					
				key =	0	-2.63	-0.0176	-0.0176
				key =	21	-2.82	0	0
				key =	111	0	0.0492	0.0492
				key =	201	2.82	0	0
				key =	291	0	-0.0492	-0.0492
				key =	360	-2.63	-0.0176	-0.0176
			}					
			temperatureAxialSunMultCurve					
			{					
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}					
			temperatureEccentricityBiasCurve					
			{					
				key =	0	 4.9	0	-9.8
				key =	1	-4.9	-9.8	0
			}										
			AtmosphereFromGround
			{
				transformScale = 1.095,1.095,1.095
				outerRadiusMult = 1.08
				innerRadiusMult = 0.93
				waveLength = 0.87,0.79,0.68,1
			}	
		}											
		PQS
		{	
			maxLevel = 6
			Mods
			{
				VertexHeightMap
				{
					map = EdgeOfEternity/Bodies/Circumbinary/1-Apep/4-Heima/Heima_Height.png
					deformity = 6200
					offset = -2018
					scaleDeformityByRadius = false
					enabled = true
					order = 20
				}
				VertexColorMap
				{
					map = EdgeOfEternity/Bodies/Circumbinary/1-Apep/4-Heima/Heima_Color.png
					order = 20
					enabled = true
				}
			}
		}
		Ocean
		{
			ocean = True
			oceanColor = 0.21,0.45,0.61,1
			oceanHeight = 0
			density = 1.207
			minLevel = 2
			maxLevel = 7
			minDetailDistance = 8
			maxQuadLengthsPerFrame = 0.03
			Material
			{
				color = 0.21,0.45,0.61,1
				colorFromSpace = 0.21,0.45,0.61,1
				specColor = 1,1,1,1
				shininess = 0.697751
				gloss = 0.2
				tiling = 1000
				waterTex = BUILTIN/sea-water1
				waterTex1 = BUILTIN/sea-water2
				bTiling = 800
				bumpMap = BUILTIN/quiet
				displacement = 0.05
				texDisplacement = -0.31
				dispFreq = 0.15
				mix = 0.3677657
				oceanOpacity = 0.98
				falloffPower = 1.1
				falloffExp = 2
				fogColor = 0.21,0.45,0.61,1
				heightFallOff = 0.2
				globalDensity = -8E-06
				atmosphereDepth = 70000
				fogColorRamp = BUILTIN/AerialRampKerbin2
				fadeStart = 20000
				fadeEnd = 60000
				planetOpacity = 1
				normalXYFudge = 1.4
				normalZFudge = 1.18
			}
			FallbackMaterial
			{
				color = 0.21,0.45,0.61,1
				colorFromSpace = 0.21,0.45,0.61,1
				specColor = 1,1,1,1
				shininess = 1
				gloss = 0.4327519
				tiling = 1000
				waterTex = BUILTIN/sea-water2
				waterTex1 = BUILTIN/sea-water3
				fadeStart = 20000
				fadeEnd = 60000
				planetOpacity = 1
			}
			Fog
			{
				afgAltMult = 0.05
				afgBase = 0.6
				afgLerp = False
				afgMin = 0.05
				fogColorEnd = 0.021,0.045,0.061,1
				fogColorStart = 0.21,0.45,0.61,1
				fogDensityAltScalar = -0.0008
				fogDensityEnd = 0.03
				fogDensityExponent = 1
				fogDensityPQSMult = 0.02
				fogDensityStart = 0.005
				skyColorMult = 1.1
				skyColorOpacityAltMult = 15
				skyColorOpacityBase = 0.25
				sunAltMult = 0.01
				sunBase = 0.5
				sunMin = 0.05
				useFog = True
			}
		}
	}
}
@GLOBAL:HAS[@EdgeOfEternitySettings:HAS[#useTerrainShaders[true]]]
{
	@Kopernicus
	{
		@Body[Heima]
		{
			@PQS
			{
				materialType = AtmosphericTriplanarZoomRotation
				Material
				{
					factor = 14.26
					factorBlendWidth = 0.05
					factorRotation = 75
					saturation = 1.15
					contrast = 1
					tintColor = 1,1,1,0
					specularColor = 0.191176474,0.191176474,0.191176474,1
					albedoBrightness = 1.64
					steepPower = 1.5
					steepTexStart = 30000
					steepTexEnd = 60000
					steepTex = BUILTIN/MunCliff [Diffuse]
					steepTexScale = 1,1
					steepTexOffset = 0,0
					steepBumpMap = BUILTIN/MunCliff [Normal]
					steepBumpMapScale = 1,1
					steepBumpMapOffset = 0,0
					steepNearTiling = 500
					steepTiling = 350
					lowTexScale = 1,1
					lowTexOffset = 0,0
					lowTiling = 1
					midTex = BUILTIN/Minmus [Diffuse]
					midTexScale = 1,1
					midTexOffset = 0,0
					midTiling = 150000
					midBumpMap = BUILTIN/Minmus [Normal]
					midBumpMapScale = 1,1
					midBumpMapOffset = 0,0
					midBumpTiling = 150000
					highTexScale = 1,1
					highTexOffset = 0,0
					highTiling = 1.5
					lowStart = -1
					lowEnd = -1
					highStart = 1
					highEnd = 1
					globalDensity = 1
					fogColorRampScale = 1,1
					fogColorRampOffset = 0,0
					planetOpacity = 0
					oceanFogDistance = 1000
				}
			}
		}
	}
}